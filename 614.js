"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[614],{33614:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var l=a(2784),o=a(72066);function n(){const[e,t]=(0,l.useState)(null),[a,n]=(0,l.useState)([]),[i,c]=(0,l.useState)(null),[r,s]=(0,l.useState)(null),[u,d]=(0,l.useState)(null);(0,l.useEffect)((()=>{a.length&&null===i&&c(a[0].deviceId)}),[a,i,c]);const g=(0,l.useCallback)((e=>{const{value:t}=e.target;c(t)}),[c]);(0,l.useEffect)((()=>{if(i){function e(e){console.log("getUserMedia() got stream: ",e),s((t=>(t&&t.getTracks().forEach((e=>e.stop())),e)))}console.log({videoSource:i});const t={video:{deviceId:i?{exact:i}:void 0}};navigator.mediaDevices.getUserMedia(t).then(e).catch((e=>{console.log("getUserMedia error: ",e)}))}}),[i,s]);const f=(0,l.useRef)();(0,l.useEffect)((()=>{r&&f&&(console.log({mediaStream:r}),Object.assign(f.current,{srcObject:r}),t(new ImageCapture(r.getVideoTracks()[0])))}),[f,r,t]),(0,l.useEffect)((()=>{e&&(console.log({imageCapture:e}),e.getPhotoCapabilities().then((function(e){console.log("Camera capabilities:",e),d(e.zoom?.max>0?{min:e.zoom.min,max:e.zoom.max,current:e.zoom.current}:null)})).catch((function(e){console.log("getCapabilities() error: ",e)})))}),[e,d]),(0,l.useEffect)((()=>{navigator.mediaDevices.enumerateDevices().then((function(e){n(e.filter((({kind:e})=>"videoinput"===e)).map((({deviceId:e,label:t},a)=>({deviceId:e,label:t||`Camera ${a+1}`}))))})).catch((e=>{console.log("enumerateDevices() error: ",e)}))}),[n]);const h=(0,l.useCallback)((e=>{const{value:t}=e.target;d((e=>({...e,current:t})))}),[d]);(0,l.useEffect)((()=>{u&&(console.log({zoomCapabilities:u}),e.setOptions({zoom:u.current}))}),[e,u]);const m=(0,l.useRef)(),b=(0,l.useCallback)((t=>{e.grabFrame().then((function(e){console.log("Grabbed frame:",e),Object.assign(m.current,{width:e.width,height:e.height}).getContext("2d").drawImage(e,0,0)})).catch((function(e){console.log("grabFrame() error: ",e)}))}),[m,e]),p=(0,l.useRef)(),v=(0,l.useCallback)((t=>{e.takePhoto().then((function(e){console.log("Took photo:",e),Object.assign(p.current,{src:URL.createObjectURL(e)})})).catch((function(e){console.log("takePhoto() error: ",e)}))}),[p,e]);return l.createElement("div",{className:o.Z.Layout},l.createElement("div",null,l.createElement("button",{onClick:b},"Grab Frame"),l.createElement("button",{onClick:v},"Take Photo"),a&&l.createElement("div",{className:o.Z.Select},l.createElement("label",{htmlFor:"videoSource"},"Video source: "),l.createElement("select",{id:"videoSource",onChange:g},a.map((({deviceId:e,label:t},a)=>l.createElement("option",{key:a,value:e},t))))),u&&(({min:e,max:t,current:a})=>l.createElement("input",{type:"range",step:"20",min:e,max:t,value:a,onChange:h}))(u)),l.createElement("video",{ref:f,autoPlay:!0,playsInline:!0,style:{display:r?"":"none"}}),l.createElement("img",{ref:p}),l.createElement("canvas",{ref:m}))}},29491:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(82609),o=a.n(l),n=a(78991),i=a.n(n),c=new URL(a(10524),a.b),r=new URL(a(83715),a.b),s=new URL(a(46962),a.b),u=o()((function(e){return e[1]})),d=i()(c),g=i()(r),f=i()(s);u.push([e.id,".RxO6nkn5BcacohvCBgMp,.bbwnmUuSGEcQH_yWgbd_{background:#fff url("+d+");background-size:5%}.bbwnmUuSGEcQH_yWgbd_{border:3px solid gray}.p3bS36kQ29mGcbv_GffA{display:flex;flex:1;flex-direction:column}.p3bS36kQ29mGcbv_GffA .cBAU3ZhAIx1ElpZGBFg_{flex:1}.cBAU3ZhAIx1ElpZGBFg_{display:flex;flex-direction:row}.cBAU3ZhAIx1ElpZGBFg_ .bVT3uXaOYD8qBDLGYyHT{flex:1}.bVT3uXaOYD8qBDLGYyHT{display:flex;flex-direction:column}.bVT3uXaOYD8qBDLGYyHT .RxO6nkn5BcacohvCBgMp,.bVT3uXaOYD8qBDLGYyHT .KN0v06D_Foynt2nprvXT{flex:1;max-width:100%}.SlTijH2No9W2LVStCuRA{overflow-x:scroll}.SlTijH2No9W2LVStCuRA .uEPcyBQ9SVY5jSCHw6us{min-width:min-content}.uEPcyBQ9SVY5jSCHw6us{display:flex;flex-direction:column}.uEPcyBQ9SVY5jSCHw6us .u7WCtSb_LbGrrH20hH3V{position:relative;height:20px;background:#fff url("+g+');background-size:166px 20px}.uEPcyBQ9SVY5jSCHw6us ._gl_s7RCsY9zRqSnqnzH{display:flex;flex-direction:row}.uEPcyBQ9SVY5jSCHw6us .Vw1DRWZIQWPSUnUCcWv3{position:relative;display:flex;flex-direction:column}.uEPcyBQ9SVY5jSCHw6us .Vw1DRWZIQWPSUnUCcWv3 .bbwnmUuSGEcQH_yWgbd_{max-height:120px}.uEPcyBQ9SVY5jSCHw6us .wsZHXoiMpqJ7Sg6L7w6M .bbwnmUuSGEcQH_yWgbd_{border-color:blue}.uEPcyBQ9SVY5jSCHw6us .iwh_lYJlPNgh2Pi3j5JF{font-size:.75em;display:flex;height:15px;padding:5px;background:#fff url(\'data:image/svg+xml,        <svg xmlns="http://www.w3.org/2000/svg" fill-opacity=".5" >        <rect x="0" y="5" width="1" height="15" />        <rect x="25%" y="10" width="1" height="10" />        <rect x="50%" y="10" width="1" height="10" />        <rect x="75%" y="10" width="1" height="10" />        </svg>\')}.bHEPaFlTSZovJy3bfGkf{position:absolute;z-index:1;margin-top:5px;width:1px;height:280px;background:#f02c00}.bHEPaFlTSZovJy3bfGkf::before{content:"";display:block;position:absolute;width:21px;height:21px;margin-left:-10px;background:url('+f+") no-repeat;background-size:100%}",""]),u.locals={Canvas:"RxO6nkn5BcacohvCBgMp",Image:"bbwnmUuSGEcQH_yWgbd_",Layout:"p3bS36kQ29mGcbv_GffA",Preview:"cBAU3ZhAIx1ElpZGBFg_",Camera:"bVT3uXaOYD8qBDLGYyHT",Video:"KN0v06D_Foynt2nprvXT",Scroller:"SlTijH2No9W2LVStCuRA",Timeline:"uEPcyBQ9SVY5jSCHw6us",Time:"u7WCtSb_LbGrrH20hH3V",Line:"_gl_s7RCsY9zRqSnqnzH",Frame:"Vw1DRWZIQWPSUnUCcWv3",Frame__Selected:"wsZHXoiMpqJ7Sg6L7w6M",Scale:"iwh_lYJlPNgh2Pi3j5JF",Slider:"bHEPaFlTSZovJy3bfGkf"};const h=u},78991:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},72066:(e,t,a)=>{a.d(t,{Z:()=>x});var l=a(46062),o=a.n(l),n=a(44036),i=a.n(n),c=a(96793),r=a.n(c),s=a(17892),u=a.n(s),d=a(11173),g=a.n(d),f=a(42464),h=a.n(f),m=a(29491),b={};b.styleTagTransform=h(),b.setAttributes=u(),b.insert=r().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=g();var p=o()(m.default,b);if(!m.default.locals||e.hot.invalidate){var v=!m.default.locals,w=v?m:m.default.locals;e.hot.accept(29491,(t=>{m=a(29491),function(e,t,a){if(!e&&t||e&&!t)return!1;var l;for(l in e)if((!a||"default"!==l)&&e[l]!==t[l])return!1;for(l in t)if(!(a&&"default"===l||e[l]))return!1;return!0}(w,v?m:m.default.locals,v)?(w=v?m:m.default.locals,p(m.default)):e.hot.invalidate()}))}e.hot.dispose((function(){p()}));const x=m.default&&m.default.locals?m.default.locals:void 0},46962:e=>{e.exports='data:image/svg+xml,        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 159 212" fill="%23f02c00">        <path d="M17.0234375,1.07763419 L143.355469,1.07763419 C151.63974,1.07763419 158.355469,7.79336295 158.355469,16.0776342 L158.355469,69.390507 C158.355469,73.7938677 156.420655,77.9748242 153.064021,80.8248415 L89.3980057,134.881757 C83.7986799,139.635978 75.5802263,139.635978 69.9809005,134.881757 L6.66764807,81.1243622 C3.0872392,78.0843437 1.0234375,73.6246568 1.0234375,68.9277387 L1.0234375,17.0776342 C1.0234375,8.2410782 8.1868815,1.07763419 17.0234375,1.07763419 Z"/>        </svg>'},83715:e=>{e.exports='data:image/svg+xml,        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill-opacity=".05" >        <rect x="100" width="100" height="100" />        <rect y="100" width="100" height="100" />        </svg>'},10524:e=>{e.exports='data:image/svg+xml,      <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill-opacity=".05" >      <rect x="100" width="100" height="100" />      <rect y="100" width="100" height="100" />      </svg>'}}]);