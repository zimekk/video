/*! For license information please see 748.js.LICENSE.txt */
(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[748],{729:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=n.p+"fc6c3033c539a87e55dfe5d7ca097c10.avi"},2357:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=n.p+"3b113b09127085b482f0fa255f75f50b.png"},5143:(t,e,n)=>{"use strict";n.d(e,{default:()=>x});var r=n(5929),i=n.n(r),o=n(62),a=n.n(o),l=n(8102),c=n.n(l),u=n(8457),s=n.n(u),f=n(4741),d=n.n(f),h=n(2082),v=n.n(h),m=n(7679),p=n.n(m),y={};y.styleTagTransform=v(),y.setAttributes=s(),y.insert=c().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=d();var g=i()(p(),y);if(!p().locals||t.hot.invalidate){var b=!p().locals,w=b?m:p().locals;t.hot.accept(7679,e=>{m=n(7679),p=n.n(m),function(t,e,n){if(!t&&e||t&&!e)return!1;var r;for(r in t)if((!n||"default"!==r)&&t[r]!==e[r])return!1;for(r in e)if(!(n&&"default"===r||t[r]))return!1;return!0}(w,b?m:p().locals,b)?(w=b?m:p().locals,g(p())):t.hot.invalidate()})}t.hot.dispose(function(){g()});const x=p()&&p().locals?p().locals:void 0},7679:(t,e,n)=>{var r=n(1106),i=n(6779)(r);i.push([t.id,'._S9GPUiw7uGVqxYYuxay,.QqPYymVDy5Fcp5RsmXN0{background:#fff url(\'data:image/svg+xml,   <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"         fill-opacity=".05" >            <rect x="100" width="100" height="100" />            <rect y="100" width="100" height="100" />            </svg>\');background-size:5%}',""]),i.locals={Canvas:"_S9GPUiw7uGVqxYYuxay",Image:"QqPYymVDy5Fcp5RsmXN0"},t.exports=i},8181:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>kn});var r=n(9430),i=n(3873),o=n(7667),a=["time","children"];function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(null,arguments)}var u=(0,r.createContext)(null),s=(0,r.createContext)(0);function f(t){var e,n=t.time,i=t.children,o=void 0===i?null:i,l=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,a),f=(0,r.useRef)();return r.createElement(u.Provider,{value:null===(e=f.current)||void 0===e?void 0:e.getContext("2d")},r.createElement(s.Provider,{value:n},r.createElement("canvas",c({ref:f},l)),o))}function d(t){var e=t.video,n=t.children,i=void 0===n?null:n,o=(0,r.useContext)(u);return o&&o.drawImage(e.current,0,0,e.current.width,e.current.height),i}function h(t){var e=t.children,n=void 0===e?null:e,i=(0,r.useContext)(u);if((0,r.useContext)(s),i){for(var o=i.getImageData(0,0,i.canvas.width,i.canvas.height),a=o.data,l=0;l<a.length;l+=4){var c=(a[l]+a[l+1]+a[l+2])/3;a[l]=c,a[l+1]=c,a[l+2]=c}i.putImageData(o,0,0,0,0,i.canvas.width,i.canvas.height)}return n}function v(t){var e=t.children,n=void 0===e?null:e,i=(0,r.useContext)(u),o=(0,r.useContext)(s);return i&&(i.fillStyle="#000000",i.beginPath(),i.arc(i.canvas.width/2,i.canvas.height/2,i.canvas.height/2*Math.pow(Math.sin(2*o),2),0,2*Math.PI),i.fill()),n}function m(t){var e=t.children,n=void 0===e?null:e,i=(0,r.useContext)(u),o=(0,r.useContext)(s);return i&&function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left";i.font="30px Sans-serif",i.textAlign=r,i.strokeStyle="black",i.lineWidth=4,i.strokeText(t,e,n),i.fillStyle="white",i.fillText(t,e,n)}(o,470,250,"right"),n}function p(){var t=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(0),2),e=t[0],n=t[1],i="https://webrtc.github.io/samples/src/video/chrome.webm",o=(0,r.useRef)();return(0,r.useEffect)(function(){var t=function(){o.current.ended||o.current.paused||(n(o.current.currentTime),o.current.requestVideoFrameCallback(t))},e=function(){o.current.requestVideoFrameCallback(t)};return o.current.addEventListener("play",e,!0),o.current.addEventListener("loadedmetadata",function(){var t=o.current,e=t.videoWidth,n=t.videoHeight,r=t.duration;console.log(["loadedmetadata"],{videoWidth:e,videoHeight:n,duration:r})}),o.current.addEventListener("timeupdate",function(){var t=o.current.currentTime;console.log(["timeupdate"],{currentTime:t})}),function(){o.current.removeEventListener("play",e)}},[o,i]),r.createElement("div",null,r.createElement("div",null,r.createElement("video",{ref:o,src:i,width:"480",height:"270",preload:"none",crossOrigin:"anonymous",controls:!0})),r.createElement("div",null,r.createElement(f,{width:"480",height:"270",time:e},r.createElement(d,{video:o}),r.createElement(h,null),r.createElement(v,null),r.createElement(m,null))))}var y=n(2702),g=n.n(y),b=["video","children"];function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w.apply(null,arguments)}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M(r.key),r)}}function k(t,e,n){return e&&P(t.prototype,e),n&&P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function M(t){var e=function(t){if("object"!=x(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==x(e)?e:e+""}var j=["#FF1461","#18FF92","#5A87FF","#FBF38C"];function A(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}var C=function(){return k(function t(){O(this,t),this.points=[]},[{key:"init",value:function(){for(var t=0;t<this.numPoints;t++){var e=new _(this.divisional*(t+1),this);this.push(e)}}},{key:"render",value:function(t){var e=this.canvas,n=this.ctx,r=this.points,i=this.numPoints,o=this.center,a=this.video;if(n.clearRect(0,0,e.width,e.height),n.drawImage(a,0,0,a.width,a.height),n.lineWidth=2,n.strokeStyle=j[1],n.strokeRect(20,20,20,20),t){var l=t/6%360,c=Math.min(Math.abs((l-180)/180),1);n.save(),n.translate(85,40+20*A(c)),n.beginPath(),[30,90,150,210,270,330,30].forEach(function(t,e){var r=(t+180*A(c))*Math.PI/180;n[e?"lineTo":"moveTo"](10*Math.cos(r),10*Math.sin(r))}),n.strokeStyle=j[0],n.stroke(),n.restore()}if(t){var u=t/2%360;n.save(),n.translate(30,95),n.rotate(u*Math.PI/180),n.translate(-30,-95),n.lineWidth=2,n.beginPath(),n.moveTo(10,90),n.lineTo(20,100),n.lineTo(30,90),n.lineTo(40,100),n.lineTo(50,90),n.strokeStyle=j[1],n.stroke(),n.restore()}if(t){var s=t/4%180;n.translate(60,65),n.scale(1-Math.sin(s*Math.PI/180)/2,1-Math.sin(s*Math.PI/180)/2),n.translate(-60,-65),n.lineWidth=3,n.beginPath(),n.arc(60,65,15,0,2*Math.PI,!0),n.strokeStyle=j[2],n.stroke(),n.restore(),n.setTransform(1,0,0,1,0,0)}if(t){var f=-t/5%360,d=-t/7%360;n.lineWidth=5,n.beginPath(),n.arc(75,100,10,f*Math.PI/180,f*Math.PI/180+1.5*Math.PI+Math.sin(d*Math.PI/180),!1),n.strokeStyle=j[3],n.stroke()}if(n.beginPath(),n.arc(60,165,15,0,2*Math.PI,!0),n.fillStyle=j[0],n.fill(),t){var h=t/5%180;n.lineWidth=2+2*Math.sin(h*Math.PI/180),n.beginPath(),n.arc(70,130,5,0,Math.PI,!1),n.arc(60,130,5,0,Math.PI,!0),n.arc(50,130,5,0,Math.PI,!1),n.arc(40,130,5,0,Math.PI,!0),n.arc(30,130,5,0,Math.PI,!1),n.arc(20,130,5,0,Math.PI,!0),n.strokeStyle=j[3],n.stroke()}if(t){var v=[[-1,0],[-.5,.5],[.5,-.5],[1,0]],m=[0,0,0,1,2,2,2],p=t/6%360/360,y=E(g()(p%1,2,v,m),2),b=y[0],w=y[1];n.translate(50,200+40*w),n.rotate(b*Math.PI),n.lineWidth=3,n.beginPath(),n.moveTo(-10,0),n.lineTo(10,0),n.moveTo(0,-10),n.lineTo(0,10),n.strokeStyle=j[2],n.stroke(),n.restore(),n.setTransform(1,0,0,1,0,0),n.lineWidth=1;for(var x=0;x<p;x+=.01){var S=E(g()(x%1,2,v,m),2),O=S[0],P=S[1];n.strokeStyle=j[0],n.strokeRect(50+40*O,200+40*P,1,1),n.strokeStyle=j[1],n.strokeRect(10+40*x,200+40*O,1,1)}}var k=new Path2D;k.rect(10,10,20,20);var M=new Path2D;M.arc(70,15,15,0,2*Math.PI),n.strokeStyle=j[3],n.stroke(k),n.fillStyle=j[2],n.fill(M);var C=new Path2D("M5 60 l 15 10 l 5 -15 l 15 10");n.strokeStyle=j[0],n.stroke(C),r[0].solveWith(r[i-1],r[1]);var _=r[i-1].position,T=r[0].position,R=T;n.beginPath(),n.moveTo(o.x,o.y),n.moveTo((_.x+T.x)/2,(_.y+T.y)/2);for(var I=1;I<i;I++){r[I].solveWith(r[I-1],r[I+1]||r[0]);var F=r[I].position,L=(T.x+F.x)/2,z=(T.y+F.y)/2;n.quadraticCurveTo(T.x,T.y,L,z),n.fillStyle="#000000",T=F}var D=(T.x+R.x)/2,U=(T.y+R.y)/2;n.quadraticCurveTo(T.x,T.y,D,U),n.fillStyle=this.color,n.fill(),n.strokeStyle="#000000",requestAnimationFrame(this.render.bind(this))}},{key:"push",value:function(t){t instanceof _&&this.points.push(t)}},{key:"color",get:function(){return this._color||"#000000"},set:function(t){this._color=t}},{key:"canvas",get:function(){return this._canvas},set:function(t){t instanceof HTMLElement&&"canvas"===t.tagName.toLowerCase()&&(this._canvas=t,this.ctx=this._canvas.getContext("2d"))}},{key:"numPoints",get:function(){return this._points||32},set:function(t){t>2&&(this._points=t)}},{key:"radius",get:function(){return this._radius||150},set:function(t){t>0&&(this._radius=t)}},{key:"position",get:function(){return this._position||{x:.5,y:.5}},set:function(t){"object"==x(t)&&t.x&&t.y&&(this._position=t)}},{key:"divisional",get:function(){return 2*Math.PI/this.numPoints}},{key:"center",get:function(){return{x:this.canvas.width*this.position.x,y:this.canvas.height*this.position.y}}},{key:"running",get:function(){return!1!==this.running},set:function(t){this._running=!0===t}}])}(),_=function(){return k(function t(e,n){O(this,t),this.parent=n,this.azimuth=Math.PI-e,this._components={x:Math.cos(this.azimuth),y:Math.sin(this.azimuth)},this.acceleration=.6*Math.random()-.3},[{key:"solveWith",value:function(t,e){this.acceleration=(-.3*this.radialEffect+(t.radialEffect-this.radialEffect)+(e.radialEffect-this.radialEffect))*this.elasticity-this.speed*this.friction}},{key:"acceleration",get:function(){return this._acceleration||0},set:function(t){"number"==typeof t&&(this._acceleration=t,this.speed+=2*this._acceleration)}},{key:"speed",get:function(){return this._speed||0},set:function(t){"number"==typeof t&&(this._speed=t,this.radialEffect+=5*this._speed)}},{key:"radialEffect",get:function(){return this._radialEffect||0},set:function(t){"number"==typeof t&&(this._radialEffect=t)}},{key:"position",get:function(){return{x:this.parent.center.x+this.components.x*(this.parent.radius+this.radialEffect),y:this.parent.center.y+this.components.y*(this.parent.radius+this.radialEffect)}}},{key:"components",get:function(){return this._components}},{key:"elasticity",get:function(){return this._elasticity||.001},set:function(t){"number"==typeof t&&(this._elasticity=t)}},{key:"friction",get:function(){return this._friction||.0085},set:function(t){"number"==typeof t&&(this._friction=t)}}])}();function T(t){var e=t.video,n=(t.children,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,b)),i=(0,r.useRef)();return(0,r.useEffect)(function(){var t=new C;!function(){i.current.setAttribute("touch-action","none");var n={x:0,y:0},r=!1;window.addEventListener("pointermove",function(e){var o=i.current.getBoundingClientRect(),a=o.x,l=o.y,c=t.center.x+a,u=t.center.y+l,s=e.clientX-c,f=e.clientY-u,d=Math.sqrt(s*s+f*f),h=null;if(t.mousePos={x:c-e.clientX,y:u-e.clientY},d<t.radius&&!1===r){var v={x:e.clientX-c,y:e.clientY-u};h=Math.atan2(v.y,v.x),r=!0}else if(d>t.radius&&!0===r){var m={x:e.clientX-c,y:e.clientY-u};h=Math.atan2(m.y,m.x),r=!1,t.color=null}if("number"==typeof h){var p=null,y=100;if(t.points.forEach(function(t){Math.abs(h-t.azimuth)<y&&(p=t,y=Math.abs(h-t.azimuth))}),p){var g={x:n.x-e.clientX,y:n.y-e.clientY};(g=10*Math.sqrt(g.x*g.x+g.y*g.y))>100&&(g=100),p.acceleration=g/100*(r?-1:1)}}n.x=e.clientX,n.y=e.clientY}),t.canvas=i.current,t.video=e.current,t.init(),t.render()}()},[i]),r.createElement("canvas",w({ref:i},n))}function R(){var t=(0,r.useRef)();return r.createElement("div",null,r.createElement("div",null,r.createElement("video",{ref:t,src:"https://webrtc.github.io/samples/src/video/chrome.webm",width:"480",height:"270",preload:"none",crossOrigin:"anonymous",controls:!0})),r.createElement("div",null,r.createElement(T,{video:t,width:"480",height:"270"})))}function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I.apply(null,arguments)}function F(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||z(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||z(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){if(t){if("string"==typeof t)return D(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var U=(0,r.createContext)(0),W=(0,r.createContext)(null),Y=function(t,e){return t+(e-t)*Math.random()},B=function(t,e,n){return Y(t-n,e+n)},H=function(t,e){var n=Y(t-e,t+e),r=Y(4,55);return"hsla(".concat(n,", ").concat(r,"%, ").concat(Y(30,80),"%, ").concat(Y(.2,.6),")")},N=function(t){var e=t.baseSize,n=t.baseHue,r=t.x,i=t.y,o=Y(1.2*e,2*e),a=Math.round(.1*e),l=L(Array.isArray(r)?r:[r,r],2),c=l[0],u=l[1],s=L(Array.isArray(i)?i:[i,i],2),f=s[0],d=s[1];return{x:B(c-.5*o,u-.5*o,a),y:B(f-.5*o,d-.5*o,a),size:o,color:H(n,40),initialRotation:Y(0,90),rotationSpeed:Y(-.1,.1)}},X=function(t){for(var e=t.width,n=t.height,r=Y(200,300),i=Math.min(e,n),o=[],a=0;a<=Math.round(e/i);a++)for(var l=0;l<=Math.round(n/i);l++)o.push(N({baseSize:Math.max(e,n),x:a*e,y:l*n,baseHue:r}));var c=F(Array(5)).map(function(){return N({baseSize:i,x:[0,e],y:[0,n],baseHue:r})});return[].concat(o,F(c))},q=function(t){var e=(0,r.useContext)(W),n=(0,r.useContext)(U);(0,r.useEffect)(function(){return e&&t(n,e)},[n,e])};function G(t){var e,n=I({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),t)),i=L((0,r.useState)(0),2),o=i[0],a=i[1],l=(0,r.useRef)(null);return(0,r.useEffect)(function(){null===(t=l.current)||void 0===t||t.getContext("2d");var t,e=window.requestAnimationFrame(function(){return a(function(t){return t+1})});return function(){window.cancelAnimationFrame(e)}},[o,a]),r.createElement("div",null,r.createElement(W.Provider,{value:null===(e=l.current)||void 0===e?void 0:e.getContext("2d")},r.createElement(U.Provider,{value:o},r.createElement("canvas",I({ref:l},n)))))}function V(t){var e=t.children,n=void 0===e?null:e;return q(function(t,e){e.fillStyle="#000000",e.beginPath(),e.arc(e.canvas.width/2,e.canvas.height/2,e.canvas.height/2*Math.pow(Math.sin(.05*t),2),0,2*Math.PI),e.fill()}),n}function J(t){var e=t.children;return void 0===e?null:e}function K(t){var e=t.x,n=t.y,r=t.size,i=t.color,o=t.initialRotation,a=t.rotationSpeed,l=t.children,c=void 0===l?null:l;return q(function(t,l){var c=o+a*t,u=.5*r;l.beginPath(),[30,90,150,210,270,330].forEach(function(t,r){var i=(t+c)*Math.PI/180,o={x:e+u+u*Math.cos(i),y:n+u+u*Math.sin(i)};0===r?l.moveTo(o.x,o.y):l.lineTo(o.x,o.y)}),l.fillStyle=i,l.fill()}),c}function $(t){var e=t.children,n=void 0===e?null:e;return q(function(t,e){e.clearRect(0,0,e.canvas.width,e.canvas.height)}),n}function Q(){this.radius=10*Math.random()+5,this.x=this.radius+(400-2*this.radius)*Math.random(),this.y=-10,this.dx=20*(Math.random()-.5),this.dy=30,this.gravity=.5,this.friction=.54,this.update=function(t){var e=.15*t.canvas.height;this.y+this.radius+this.dy>=t.canvas.height-e?(this.dy=-this.dy*this.friction,this.dx*=this.friction,this.radius-=3,nt.push(new tt(this))):this.dy+=this.gravity,(this.x+this.radius+this.dx>=t.canvas.width||this.x-this.radius+this.dx<0)&&(this.dx=-this.dx,this.dx*=this.friction,nt.push(new tt(this))),this.x+=this.dx,this.y+=this.dy,this.draw(t);for(var n=0;n<nt.length;n++)nt[n].update(t)},this.draw=function(t){t.save(),t.beginPath(),t.arc(this.x,this.y,Math.abs(this.radius),0,2*Math.PI,!1),t.shadowColor="#E3EAEF",t.shadowBlur=20,t.shadowOffsetX=0,t.shadowOffsetY=0,t.fillStyle="#E3EAEF",t.fill(),t.closePath(),t.restore()}}function Z(t,e,n,r){this.x=t,this.y=e,this.size={width:2,height:2},this.dx=n,this.dy=r,this.gravity=.09,this.friction=.88,this.timeToLive=3,this.opacity=1,this.update=function(t){var e=.15*t.canvas.height;this.y+this.size.height+this.dy>=t.canvas.height-e?(this.dy=-this.dy*this.friction,this.dx*=this.friction):this.dy+=this.gravity,(this.x+this.size.width+this.dx>=t.canvas.width||this.x+this.dx<0)&&(this.dx=-this.dx,this.dx*=this.friction),this.x+=this.dx,this.y+=this.dy,this.draw(t),this.timeToLive-=.01,this.opacity-=1/(this.timeToLive/.01)},this.draw=function(t){t.save(),t.fillStyle="rgba(227, 234, 239,"+this.opacity+")",t.shadowColor="#E3EAEF",t.shadowBlur=20,t.shadowOffsetX=0,t.shadowOffsetY=0,t.fillRect(this.x,this.y,this.size.width,this.size.height),t.restore()},this.isAlive=function(){return 0<=this.timeToLive}}function tt(t){this.particles=[],this.init=function(t){for(var e=0;e<8;e++){var n={x:5*(Math.random()-.5),y:15*(Math.random()-.5)};this.particles.push(new Z(t.x,t.y,n.x,n.y))}},this.init(t),this.update=function(t){for(var e=0;e<this.particles.length;e++)this.particles[e].update(t),0==this.particles[e].isAlive()&&this.particles.splice(e,1)}}var et=[],nt=[],rt=Math.floor(25*Math.random()+60);function it(t){var e=t.children,n=void 0===e?null:e;return q(function(t,e){for(var n=0;n<et.length;n++)et[n].update(e),et[n].radius<=0&&et.splice(n,1);for(var r=0;r<nt.length;r++)nt[r].length<=0&&nt.splice(r,1);t%rt==0&&(et.push(new Q),rt=Math.floor(10*Math.random()+75))}),n}function ot(){var t=L((0,r.useState)(!1),2),e=t[0];return t[1],r.createElement("div",null,r.createElement(G,{width:"480",height:"270",style:{background:"#333"}},r.createElement($,null),r.createElement(V,null),X({height:270,width:480}).map(function(t,e){return r.createElement(K,I({key:e},t))}),e&&r.createElement(J,null),r.createElement(it,null)))}var at=n(952),lt=n(8954),ct=n(8997);function ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function st(){var t=(0,r.useRef)(null),e=(0,r.useRef)(null),n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ut(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(null),2),i=n[0],o=n[1];(0,r.useEffect)(function(){var e=t.current,n=new at.Wd({canvas:e}),r=new at.kx({width:480,height:270});n.append(r);var i=new at.YJ;i.attr({pos:[240,100]}),n.append(i);var o=new at.JU("Hello World !");o.attr({anchor:[.5,.5],font:"bold 48px Arial",fillColor:"#ffdc45"});var a=new at.JU("SpriteJS.org");a.attr({anchor:[.5,.5],y:60,font:"bold 48px Arial",fillColor:"#ffdc45"}),i.animate([{scale:1.5,rotate:-30},{scale:1,rotate:0},{scale:1.5,rotate:30}],{duration:3e3,iterations:1/0,direction:"alternate"}),i.append(o,a)},[]);var a=(0,r.useCallback)(function(){i&&(i.stopRecord(),i.getStreamURL().then(function(t){return e.current&&(e.current.src=t)}).catch(function(t){return console.error(t)}),o(null))},[i]),l=(0,r.useCallback)(function(){var e=t.current;if(e){var n=new lt.C({canvas:e,outVideoType:"mp4",workerOptions:{corePath:"ffmpeg/ffmpeg-core.js",logger:console.info}});n.startRecord(),o(n)}},[]);return r.createElement("div",null,r.createElement("canvas",{ref:t,width:"480",height:"270"}),r.createElement("div",null,i?r.createElement("button",{key:"stop",onClick:a},"Stop Recording"):r.createElement("button",{key:"start",onClick:l},"Start Recording")),r.createElement("video",{ref:e,width:"480",height:"270",controls:!0,autoPlay:!0}))}Object.assign(window,{FFmpeg:ct.m});var ft=n(1552),dt=n(8310),ht=n(7861),vt=n(9602),mt=n(6868),pt=n(2881),yt=n(3490),gt=n(6330),bt=n(5819),wt="\n                attribute vec3 position;\n                attribute vec3 normal;\n                attribute vec2 uv;\n                uniform mat4 modelViewMatrix;\n                uniform mat4 projectionMatrix;\n                uniform mat3 normalMatrix;\n                varying vec2 vUv;\n                varying vec3 vNormal;\n                void main() {\n                    vUv = uv;\n                    vNormal = normalize(normalMatrix * normal);\n                    \n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                }\n            ",xt="\n                precision highp float;\n                uniform sampler2D tMap;\n                varying vec2 vUv;\n                varying vec3 vNormal;\n                void main() {\n                    vec3 normal = normalize(vNormal);\n                    float lighting = 0.2 * dot(normal, normalize(vec3(-0.3, 0.8, 0.6)));\n                    vec3 tex = texture2D(tMap, vUv).rgb;\n                    gl_FragColor.rgb = tex + lighting + vec3(vUv - 0.5, 0.0) * 0.1;\n                    gl_FragColor.a = 1.0;\n                }\n            ";function Et(){var t=(0,r.useRef)(),e=(0,r.useRef)();return(0,r.useEffect)(function(){var n=t.current,r=new yt.A({canvas:n,width:n.width,height:n.height,dpr:2}),i=r.gl,o=new gt.i(i,{fov:35});o.position.set(0,1,5),o.lookAt([0,0,0]);var a=new gt.i(i,{fov:35});a.position.set(0,1,5),a.lookAt([0,0,0]),a.perspective({aspect:i.canvas.width/i.canvas.height});var l=new bt.d,c=function(t){var e=new ft.a(t),n=new dt.g(t,{image:new Uint8Array([191,25,54,255,96,18,54,255,96,18,54,255,37,13,53,255]),width:2,height:2,magFilter:t.NEAREST}),r=new ht.B(t,{vertex:wt,fragment:xt,uniforms:{tMap:{value:n}}}),i=new vt.e(t,{geometry:e,program:r});return{mesh:i,update:function(t){i.rotation.y-=.02}}}(i),u=c.mesh,s=c.update,f=function(t){var e=new ft.a(t),n=new mt.O(t,{width:512,height:512}),r=new ht.B(t,{vertex:wt,fragment:xt,uniforms:{tMap:{value:n.texture}}}),i=new vt.e(t,{geometry:e,program:r});return{mesh:i,target:n,update:function(t){i.rotation.y-=.005,i.rotation.x-=.01}}}(i),d=f.mesh,h=f.target,v=f.update;d.setParent(l);var m=function(t){for(var e=new Float32Array(300),n=new Float32Array(400),r=0;r<100;r++)e.set([Math.random(),Math.random(),Math.random()],3*r),n.set([Math.random(),Math.random(),Math.random(),Math.random()],4*r);var i=new pt.V(t,{position:{size:3,data:e},random:{size:4,data:n}}),o=new ht.B(t,{vertex:"\n    attribute vec3 position;\n    attribute vec4 random;\n    uniform mat4 modelMatrix;\n    uniform mat4 viewMatrix;\n    uniform mat4 projectionMatrix;\n    uniform float uTime;\n    varying vec4 vRandom;\n    void main() {\n        vRandom = random;\n        \n        // positions are 0->1, so make -1->1\n        vec3 pos = position * 2.0 - 1.0;\n        \n        // Scale towards camera to be more interesting\n        pos.z *= 10.0;\n        \n        // modelMatrix is one of the automatically attached uniforms when using the Mesh class\n        vec4 mPos = modelMatrix * vec4(pos, 1.0);\n        // add some movement in world space\n        float t = uTime * 0.6;\n        mPos.x += sin(t * random.z + 6.28 * random.w) * mix(0.1, 1.5, random.x);\n        mPos.y += sin(t * random.y + 6.28 * random.x) * mix(0.1, 1.5, random.w);\n        mPos.z += sin(t * random.w + 6.28 * random.y) * mix(0.1, 1.5, random.z);\n        \n        // get the model view position so that we can scale the points off into the distance\n        vec4 mvPos = viewMatrix * mPos;\n        gl_PointSize = 300.0 / length(mvPos.xyz) * (random.x + 0.1);\n        gl_Position = projectionMatrix * mvPos;\n    }\n",fragment:"\n    precision highp float;\n    uniform float uTime;\n    varying vec4 vRandom;\n    void main() {\n        vec2 uv = gl_PointCoord.xy;\n        \n        float circle = smoothstep(0.5, 0.4, length(uv - 0.5)) * 0.8;\n        \n        gl_FragColor.rgb = 0.8 + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28) + vec3(0.1, 0.0, 0.3);\n        gl_FragColor.a = circle;\n    }\n",uniforms:{uTime:{value:0}},transparent:!0,depthTest:!1}),a=new vt.e(t,{mode:t.POINTS,geometry:i,program:o});return{mesh:a,update:function(t){a.rotation.x=.1*Math.sin(2e-4*t),a.rotation.y=.15*Math.cos(5e-4*t),a.rotation.z+=.01,o.uniforms.uTime.value=.001*t}}}(i),p=m.mesh,y=m.update;p.setParent(l);var g=function(t,e){var n=e.video,r=new ft.a(t),i=new dt.g(t),o=new ht.B(t,{vertex:"\n    attribute vec2 uv;\n    attribute vec3 position;\n    attribute vec3 normal;\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n    uniform mat3 normalMatrix;\n    varying vec2 vUv;\n    varying vec3 vNormal;\n    void main() {\n        vUv = uv;\n        vNormal = normalize(normalMatrix * normal);\n        \n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n",fragment:"\n    precision highp float;\n    uniform sampler2D tMap;\n    varying vec2 vUv;\n    varying vec3 vNormal;\n    void main() {\n        vec3 normal = normalize(vNormal);\n        vec3 tex = texture2D(tMap, vUv).rgb;\n        \n        vec3 light = normalize(vec3(0.5, 1.0, -0.3));\n        float shading = dot(normal, light) * 0.15;\n        \n        gl_FragColor.rgb = tex + shading;\n        gl_FragColor.a = 1.0;\n    }\n",uniforms:{tMap:{value:i}}}),a=new vt.e(t,{geometry:r,program:o});return{mesh:a,program:o,update:function(t){n.readyState>=n.HAVE_ENOUGH_DATA&&(i.image||(i.image=n),i.needsUpdate=!0),a.rotation.y-=.04,a.rotation.x+=.03}}}(i,{video:e.current}),b=g.mesh,w=g.update;b.setParent(l),requestAnimationFrame(function t(e){requestAnimationFrame(t),s(e),v(e),y(e),w(e),i.clearColor(.15,.05,.2,1),r.render({scene:u,camera:o,target:h}),i.clearColor(1,1,1,1),r.render({scene:l,camera:a})})}),r.createElement("div",null,r.createElement("video",{ref:e,src:"https://webrtc.github.io/samples/src/video/chrome.webm",width:"480",height:"270",preload:"none",crossOrigin:"anonymous",controls:!0}),r.createElement("canvas",{ref:t,width:"480",height:"270"}))}var St=n(3592),Ot=["video","children"];function Pt(){return Pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pt.apply(null,arguments)}var kt=(0,r.createContext)(null),Mt=30,jt=["#FF1461","#18FF92","#5A87FF","#FBF38C"];function At(t){for(var e=0;e<t.animatables.length;e++)t.animatables[e].target.draw()}function Ct(t){var e,n=t.video,i=t.children,o=void 0===i?null:i,a=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,Ot),l=(0,r.useRef)();return(0,r.useEffect)(function(){var t=l.current.getContext("2d");function e(e,n){var r={};return r.x=e,r.y=n,r.color=jt[St.default.random(0,jt.length-1)],r.radius=St.default.random(16,32),r.endPos=function(t){var e=St.default.random(0,360)*Math.PI/180,n=St.default.random(50,180),r=[-1,1][St.default.random(0,1)]*n;return{x:t.x+r*Math.cos(e),y:t.y+r*Math.sin(e)}}(r),r.draw=function(){t.beginPath(),t.arc(r.x,r.y,r.radius,0,2*Math.PI,!0),t.fillStyle=r.color,t.fill()},r}(0,St.default)({duration:1/0,update:function(){t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(n.current,0,0,n.current.width,n.current.height)}});var r=t.canvas.width/2,i=t.canvas.height/2;!function n(){window.human||(function(n,r){for(var i=function(e,n){var r={};return r.x=e,r.y=n,r.color="#FFF",r.radius=.1,r.alpha=.5,r.lineWidth=6,r.draw=function(){t.globalAlpha=r.alpha,t.beginPath(),t.arc(r.x,r.y,r.radius,0,2*Math.PI,!0),t.lineWidth=r.lineWidth,t.strokeStyle=r.color,t.stroke(),t.globalAlpha=1},r}(n,r),o=[],a=0;a<Mt;a++)o.push(e(n,r));St.default.timeline().add({targets:o,x:function(t){return t.endPos.x},y:function(t){return t.endPos.y},radius:.1,duration:St.default.random(1200,1800),easing:"easeOutExpo",update:At}).add({targets:i,radius:St.default.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:St.default.random(600,800)},duration:St.default.random(1200,1800),easing:"easeOutExpo",update:At,offset:0})}(St.default.random(r-50,r+50),St.default.random(i-50,i+50)),(0,St.default)({duration:500}).finished.then(n))}()},[l]),r.createElement(kt.Provider,{value:null===(e=l.current)||void 0===e?void 0:e.getContext("2d")},r.createElement("canvas",Pt({ref:l},a)),o)}function _t(){var t=(0,r.useRef)();return r.createElement("div",null,r.createElement("div",null,r.createElement("video",{ref:t,src:"https://webrtc.github.io/samples/src/video/chrome.webm",width:"480",height:"270",preload:"none",crossOrigin:"anonymous",controls:!0})),r.createElement("div",null,r.createElement(Ct,{video:t,width:"480",height:"270"})))}var Tt=n(4351),Rt=n(8820),It=n(542),Ft=n.n(It),Lt=n(4674),zt=n.n(Lt);function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Ut(){return Ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ut.apply(null,arguments)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yt(r.key),r)}}function Yt(t){var e=function(t){if("object"!=Dt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Dt(e)?e:e+""}function Bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Bt=function(){return!!t})()}function Ht(t){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ht(t)}function Nt(t,e){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nt(t,e)}const Xt=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).refreshRate,n=void 0===e?60:e,i=function(e){function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=function(t,e,n){return e=Ht(e),function(t,e){if(e&&("object"==Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Bt()?Reflect.construct(e,n||[],Ht(t).constructor):e.apply(t,n))}(this,i,[t])).state={time:0,tick:0},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nt(t,e)}(i,e),o=i,a=[{key:"componentDidMount",value:function(){var t,e,r=this,i=1e3/n;e=-i;var o=function(n){r._r=Ft()(o),t||(t=n),n-e>i&&(e=n,r.setState({time:n-t,tick:r.state.tick+1}))};this._r=Ft()(o)}},{key:"componentWillUnmount",value:function(){Ft().cancel(this._r)}},{key:"render",value:function(){return r.createElement(t,Ut({},this.props,this.state))}}],a&&Wt(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,a}(r.PureComponent);return zt()(i,t),i};var qt,Gt,Vt,Jt=Tt.Shaders.create({gradients:{frag:(0,Tt.GLSL)(qt||(Gt=["\nprecision highp float;\nvarying vec2 uv;\nuniform vec4 colors[3];\nuniform vec2 particles[3];\nvoid main () {\n  vec4 sum = vec4(0.0);\n  for (int i=0; i<3; i++) {\n    vec4 c = colors[i];\n    vec2 p = particles[i];\n    float d = c.a * smoothstep(0.6, 0.2, distance(p, uv));\n    sum += d * vec4(c.a * c.rgb, c.a);\n  }\n  if (sum.a > 1.0) {\n    sum.rgb /= sum.a;\n    sum.a = 1.0;\n  }\n  gl_FragColor = vec4(sum.a * sum.rgb, 1.0);\n}\n"],Vt||(Vt=Gt.slice(0)),qt=Object.freeze(Object.defineProperties(Gt,{raw:{value:Object.freeze(Vt)}}))))}}),Kt=Xt(function(t){var e=t.time;return r.createElement(Tt.Node,{shader:Jt.gradients,uniforms:{colors:[[Math.cos(.002*e),Math.sin(.002*e),.2,1],[Math.sin(.002*e),-Math.cos(.002*e),.1,1],[.3,Math.sin(3+.002*e),Math.cos(1+.003*e),1]],particles:[[.3,.3],[.7,.5],[.4,.9]]}})});function $t(){return r.createElement(Rt.u,{width:480,height:270},r.createElement(Kt,null))}var Qt,Zt=n(2677),te=Tt.Shaders.create({funky:{frag:(0,Tt.GLSL)(Qt||(Qt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nvoid main() {\n  gl_FragColor = texture2D(t, uv) * vec4(\n    0.5 + 0.5 * cos(uv.x * 30.0),\n    0.5 + 0.5 * sin(uv.y * 20.0),\n    0.7 + 0.3 * sin(uv.y * 8.0),\n    1.0);\n}\n"])))}}),ee=function(t){var e=t.children;return r.createElement(Tt.Node,{shader:te.funky,uniforms:{t:e}})};function ne(){return r.createElement(Rt.u,{width:480,height:270,style:{background:'#fff url(\'data:image/svg+xml,        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill-opacity=".05" >          <rect x="100" width="100" height="100" />          <rect y="100" width="100" height="100" />        </svg>\')',backgroundSize:"5%"},webglContextAttributes:{premultipliedAlpha:!1}},r.createElement(ee,null,r.createElement(Tt.LinearCopy,null,r.createElement(Zt.A,{width:400,height:200},{background:"rgba(0,0,0,.2)",size:[400,200],draws:[{textAlign:"center",fillStyle:"#fff",font:"48px bold Arial"},["fillText","Hello World\n2d canvas text\ninjected as texture",200,60,56]]}))))}var re=["video","children"];function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function oe(){return oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oe.apply(null,arguments)}function ae(t){return function(t){if(Array.isArray(t))return ce(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||le(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(t,e){if(t){if("string"==typeof t)return ce(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(t,e):void 0}}function ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,he(r.key),r)}}function fe(t,e,n){return e&&se(t.prototype,e),n&&se(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function de(t,e,n){return(e=he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function he(t){var e=function(t){if("object"!=ie(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ie(e)?e:e+""}var ve=["#FF1461","#18FF92","#5A87FF","#FBF38C"],me=function(){return fe(function t(e){var n=e.x,r=e.y,i=e.w,o=e.h,a=e.color;ue(this,t),de(this,"color",""),de(this,"opacity",0),de(this,"scaleX",1),de(this,"x",0),de(this,"y",0),de(this,"w",0),de(this,"h",0),Object.assign(this,{x:n,y:r,w:i,h:o,color:a})},[{key:"draw",value:function(t){var e=t.canvas,n=e.width,r=e.height,i=this.x,o=this.y,a=this.w,l=this.h,c=this.color,u=this.scaleX,s=this.opacity;t.save(),t.globalAlpha=s,t.fillStyle=c,t.fillRect((.8*i+.1)*n,(.8*o+.1)*r,.8*a*n*u,.8*l*r),t.restore()}}])}(),pe=function(){return fe(function t(e){var n=e.text,r=e.x,i=e.y,o=e.size,a=e.color;ue(this,t),de(this,"color",""),de(this,"opacity",0),de(this,"rotateZ",0),de(this,"scale",1),de(this,"size",30),de(this,"text",""),de(this,"translateX",0),de(this,"translateY",0),de(this,"x",0),de(this,"y",0),Object.assign(this,{text:n,x:r,y:i,size:o,color:a})},[{key:"draw",value:function(t){var e=t.canvas,n=e.width,r=e.height,i=this.rotateZ,o=this.size,a=this.text,l=this.x,c=this.y,u=this.scale,s=this.color,f=this.opacity,d=this.translateX,h=this.translateY,v=.8*o*r,m=function(t){return"string"==typeof t?((e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||le(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.match(/^([+-]?[-e0-9.]+)(px|em)$/)||[],3))[0],n=e[1],r=e[2],{px:n,em:n*v}[r]):t;var e,n,r};t.save(),t.globalAlpha=f,t.fillStyle=s,t.font="".concat(v,"px Arial"),t.textAlign="start",t.textBaseline="alphabetic",t.beginPath(),t.rect(0,0,n,.75*r),t.clip();var p=t.measureText(a).width;t.translate((.8*l+.1)*n+p/2+m(d),(.8*(c+o/2)+.1)*r+m(h)),t.scale(u,u),t.rotate(i*Math.PI/180),t.fillText(a,-p/2,o/2*.8*r),t.restore()}}])}();function ye(t){var e=t.video,n=(t.children,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,re)),i=(0,r.useRef)();return(0,r.useEffect)(function(){var t=i.current.getContext("2d"),n="Letters".split("").map(function(t,e,n){return new pe({text:t,x:e/n.length,y:1/3,size:1/3,color:ve[3]})}),r=[.3,.8].map(function(t,e){return new me({x:0,y:t,w:1,h:.02,color:ve[e+1]})});(0,St.default)({duration:1/0,update:function(){t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(e.current,0,0,e.current.width,e.current.height)}});var o=function(e){for(var n=0;n<e.animatables.length;n++)e.animatables[n].target.draw(t)};St.default.timeline({loop:!0}).add({targets:ae(r),opacity:[0,1],scaleX:[0,1],duration:750,easing:"easeOutExpo",delay:function(t,e,n){return 200*(n-e-1)},update:o}).add({targets:ae(n),opacity:1,rotateZ:[180,0],scale:1,translateY:["1.6em",0],translateX:[".8em",0],translateZ:0,duration:750,easing:"easeOutExpo",delay:function(t,e){return 50*e},update:o},"-=".concat(950)).add({targets:[].concat(ae(n),ae(r)),opacity:0,duration:1e3,easing:"easeOutExpo",delay:1e3,update:o}).add({targets:ae(r),opacity:[0,1],scaleX:[0,1],duration:600,easing:"easeOutExpo",delay:function(t,e,n){return 200*(n-e-1)},update:o}).add({targets:ae(n),opacity:[0,1],rotateZ:0,scale:[.3,1],translateX:0,translateY:0,translateZ:0,duration:800,easing:"easeOutExpo",delay:function(t,e){return 50*(e+1)},update:o},"-=".concat(800)).add({targets:[].concat(ae(n),ae(r)),opacity:0,duration:1e3,easing:"easeOutExpo",delay:1e3})},[i]),r.createElement("canvas",oe({ref:i},n))}function ge(){var t=(0,r.useRef)();return r.createElement("div",null,r.createElement("div",null,r.createElement("video",{ref:t,src:"https://webrtc.github.io/samples/src/video/chrome.webm",width:"480",height:"270",preload:"none",crossOrigin:"anonymous",controls:!0})),r.createElement("div",null,r.createElement(ye,{video:t,width:"480",height:"270"})))}function be(){var t=(0,r.useRef)(null),e=(0,r.useRef)(null),i=(0,r.useRef)(null),o=(0,r.useRef)(null),a=(0,r.useCallback)(function(){var n,r,a,l=e.current,c=o.current,u=t.current.getContext("2d"),s=i.current.getContext("2d");u.clearRect(0,0,l.naturalWidth,l.naturalHeight),u.drawImage(l,0,0),r=(n=u.getImageData(0,0,l.naturalWidth,l.naturalHeight)).data,s.clearRect(0,0,c.naturalWidth,c.naturalHeight),s.drawImage(c,0,0),a=s.getImageData(0,0,c.naturalWidth,c.naturalHeight).data;for(var f=0,d=r.length;f<d;f+=4){var h,v,m,p,y,g,b,w;h=Math.floor(r[f]/4),v=Math.floor(r[f+1]/4),p=(m=Math.floor(r[f+2]/4))%8*64+h,g=a[y=4*((64*Math.floor(m/8)+v)*c.naturalWidth+p)],b=a[y+1],w=a[y+2],r[f]=g,r[f+1]=b,r[f+2]=w}u.clearRect(0,0,l.naturalWidth,l.naturalHeight),u.putImageData(n,0,0)});return r.createElement("div",null,r.createElement("div",null,r.createElement("img",{ref:o,src:n(2357).A,alt:"lut",width:"512",height:"512"})),r.createElement("div",null,r.createElement("img",{ref:e,src:"https://i.imgur.com/0bUSEBX.jpg",alt:"The Scream",crossOrigin:"Anonymous",width:"480",height:"270"})),r.createElement("div",null,r.createElement("button",{onClick:a},"Apply LUT")),r.createElement("canvas",{ref:t,width:"480",height:"270",style:{border:"1px solid #d3d3d3"}},"Your browser does not support the HTML5 canvas tag."),r.createElement("canvas",{ref:i,width:"512",height:"512",style:{border:"1px solid #d3d3d3"}},"Your browser does not support the HTML5 canvas tag."))}var we=n(9745),xe=n(9124),Ee=n(315);function Se(){var t=(0,r.useRef)();return(0,r.useEffect)(function(){var e=t.current,n=new yt.A({canvas:e,width:e.width,height:e.height,dpr:2,alpha:!0,premultipliedAlpha:!1}),r=n.gl,i=new bt.d,o=[];function a(t,e){var n=Math.random();return t*(1-n)+e*n}["#e09f7d","#ef5d60","#ec4067","#a01a7d","#311847"].forEach(function(t,e){for(var n={spring:a(.02,.1),friction:a(.7,.95),mouseVelocity:new we.e,mouseOffset:new we.e(.02*a(-1,1))},l=n.points=[],c=0;c<20;c++)l.push(new we.e);n.polyline=new xe.R(r,{points:l,vertex:"\n    precision highp float;\n    attribute vec3 position;\n    attribute vec3 next;\n    attribute vec3 prev;\n    attribute vec2 uv;\n    attribute float side;\n    uniform vec2 uResolution;\n    uniform float uDPR;\n    uniform float uThickness;\n    vec4 getPosition() {\n        vec4 current = vec4(position, 1);\n        vec2 aspect = vec2(uResolution.x / uResolution.y, 1);\n        vec2 nextScreen = next.xy * aspect;\n        vec2 prevScreen = prev.xy * aspect;\n    \n        // Calculate the tangent direction\n        vec2 tangent = normalize(nextScreen - prevScreen);\n    \n        // Rotate 90 degrees to get the normal\n        vec2 normal = vec2(-tangent.y, tangent.x);\n        normal /= aspect;\n        // Taper the line to be fatter in the middle, and skinny at the ends using the uv.y\n        normal *= mix(1.0, 0.1, pow(abs(uv.y - 0.5) * 2.0, 2.0) );\n        // When the points are on top of each other, shrink the line to avoid artifacts.\n        float dist = length(nextScreen - prevScreen);\n        normal *= smoothstep(0.0, 0.02, dist);\n        float pixelWidthRatio = 1.0 / (uResolution.y / uDPR);\n        float pixelWidth = current.w * pixelWidthRatio;\n        normal *= pixelWidth * uThickness;\n        current.xy -= normal * side;\n    \n        return current;\n    }\n    void main() {\n        gl_Position = getPosition();\n    }\n",uniforms:{uColor:{value:new Ee.Q(t)},uThickness:{value:a(20,50)}}}),n.polyline.mesh.setParent(i),o.push(n)});var l=new we.e;function c(t){t.changedTouches&&t.changedTouches.length&&(t.x=t.changedTouches[0].pageX,t.y=t.changedTouches[0].pageY),void 0===t.x&&(t.x=t.pageX,t.y=t.pageY),l.set(t.x/r.renderer.width*2-1,t.y/r.renderer.height*-2+1,0)}"ontouchstart"in window?(window.addEventListener("touchstart",c,!1),window.addEventListener("touchmove",c,!1)):window.addEventListener("mousemove",c,!1);var u=new we.e;requestAnimationFrame(function t(e){requestAnimationFrame(t),o.forEach(function(t){for(var e=t.points.length-1;e>=0;e--)e?t.points[e].lerp(t.points[e-1],.9):(u.copy(l).add(t.mouseOffset).sub(t.points[e]).multiply(t.spring),t.mouseVelocity.add(u).multiply(t.friction),t.points[e].add(t.mouseVelocity));t.polyline.updateGeometry()}),n.render({scene:i})})}),r.createElement("div",null,r.createElement("canvas",{ref:t,width:"480",height:"270",style:{background:'#fff\n            url(\'data:image/svg+xml,           <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"         fill-opacity=".05" >                    <rect x="100" width="100" height="100" />                    <rect y="100" width="100" height="100" />                    </svg>\')',backgroundSize:"10%"}}))}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Pe(){var t=(0,r.useRef)(null),e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Oe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(null),2),n=e[0],i=e[1],o=(0,r.useCallback)(function(){return navigator.mediaDevices.getDisplayMedia({video:{mediaSource:"screen"}}).then(function(e){var n=new MediaRecorder(e),r=[];n.addEventListener("dataavailable",function(t){var e=t.data;return r.push(e)}),n.addEventListener("stop",function(){t.current.src=URL.createObjectURL(new Blob(r,{type:r[0].type})),i(null)}),n.start(),i({stream:e,record:n})}).catch(console.info)}),a=(0,r.useCallback)(function(){n.stream.getVideoTracks()[0].stop(),n.record.stop()});return r.createElement("div",null,r.createElement("div",null,n?r.createElement("button",{key:"stop",onClick:a},"Stop Recording"):r.createElement("button",{key:"start",onClick:o},"Start Recording")),r.createElement("video",{ref:t,width:"480",height:"270",autoPlay:!0,controls:!0}))}function ke(){var t=(0,r.useRef)();return(0,r.useEffect)(function(){var e=t.current,n=new at.Wd({canvas:e}),r=document.createElement("video");r.src="https://webrtc.github.io/samples/src/video/chrome.webm",r.crossOrigin="Anonymous",r.loop=!0,r.muted=!0,r.play();var i=e.cloneNode(),o=i.getContext("2d"),a=new at.kx({width:480,height:270});n.canvas.style.backgroundColor="#3f097a",n.append(a);var l=new at.YJ;l.attr({pos:[240,100]}),n.append(l);var c=new at.JU("Hello World !");c.attr({anchor:[.5,.5],font:"bold 48px Arial",fillColor:"#ffdc45"});var u=new at.JU("SpriteJS.org");u.attr({anchor:[.5,.5],y:60,font:"bold 48px Arial",fillColor:"#ffdc45"}),l.animate([{scale:1.5,rotate:-30},{scale:1,rotate:0},{scale:1.5,rotate:30}],{duration:3e3,iterations:1/0,direction:"alternate"}),l.append(c,u);var s=!1;r.addEventListener("playing",function(){s||(s=!0,n.tick(function(){o.drawImage(r,0,0),a.attr("texture",i)}))})}),r.createElement("div",null,r.createElement("canvas",{ref:t,width:"480",height:"270"}))}function Me(){var t=(0,r.useRef)(null);return(0,r.useEffect)(function(){var e=[];var n=0,r=document.createElement("video");return r.addEventListener("loadeddata",function(){t.current.innerHTML="",r.currentTime=n},!1),r.addEventListener("seeked",function(){var i,o,a=r.duration/4;o=(i=document.createElement("canvas")).getContext("2d"),i.width=480,i.height=270,o.drawImage(r,0,0,480,270),e.push(i),e.length,(n+=a)<=r.duration?r.currentTime=n:function(){var n=document.createElement("canvas"),r=n.getContext("2d");n.width=480,n.height=270,t.current.appendChild(n),function(t){var n=0;!function r(){t.drawImage(e[n],0,0),n=(n+1)%e.length,setTimeout(r,500)}()}(r)}()},!1),r.preload="auto",r.src="https://www.html5rocks.com/en/tutorials/video/basics/devstories.webm",function(){}},[t]),r.createElement("div",{ref:t})}var je=n(5903);function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(n),!0).forEach(function(e){Te(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Te(t,e,n){return(e=function(t){var e=function(t){if("object"!=Ae(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ae(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ie(){var t,e,n,i=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Re(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(null),2),o=i[0],a=i[1],l=(0,r.useRef)(),c=(0,r.useCallback)(function(){return l.current.requestPictureInPicture()});return(0,r.useEffect)(function(){var t=l.current;console.log({video:t});var e=t.readyState;console.log({readyState:e});var n=function(e,r){console.log({now:e,metadata:r}),console.log(t.getVideoPlaybackQuality()),t.requestVideoFrameCallback(n)};t.requestVideoFrameCallback(n),t.addEventListener("error",function(){var e=t.error;console.log(["error"],{error:e})}),t.addEventListener("loadedmetadata",function(){var e=t.currentTime,n=t.videoWidth,r=t.videoHeight,i=t.duration,o=t.readyState;console.log(["loadedmetadata"],{currentTime:e,videoWidth:n,videoHeight:r,duration:i,readyState:o}),a(function(){return{currentTime:e,duration:i}})}),t.addEventListener("seeked",function(){var e=t.currentTime,n=t.playbackRate,r=t.seeking;console.log(["seeked"],{currentTime:e,playbackRate:n,seeking:r})}),t.addEventListener("timeupdate",function(){var e=t.currentTime,n=t.playbackRate,r=t.seeking;console.log(["timeupdate"],{currentTime:e,playbackRate:n,seeking:r}),a(function(t){return _e(_e({},t),{},{currentTime:e})})})},[]),r.createElement("div",null,r.createElement("div",null,r.createElement("button",{onClick:c},"pip"),o&&(e=(t=o).currentTime,n=t.duration,r.createElement("div",{className:je.default.Duration},r.createElement("span",{className:je.default.Progress,style:{width:"".concat(100*e/n,"%")}}),e," / ",n))),r.createElement("video",{ref:l,width:"480",height:"270",src:"https://webrtc.github.io/samples/src/video/chrome.webm",controls:!0}))}var Fe=n(6916);function Le(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return ze(u,"_invoke",function(n,r,i){var o,l,c,u=0,s=i||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,l=0,c=t,d.n=n,a}};function h(n,r){for(l=n,c=r,e=0;!f&&u&&!i&&e<s.length;e++){var i,o=s[e],h=d.p,v=o[2];n>3?(i=v===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(l=0,d.v=r,d.n=o[1]):h<v&&(i=n<3||o[0]>r||r>v)&&(o[4]=n,o[5]=r,d.n=v,l=0))}if(i||n>1)return a;throw f=!0,r}return function(i,s,v){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&h(s,v),l=s,c=v;(e=l<2?t:c)||!f;){o||(l?l<3?(l>1&&(d.n=-1),h(l,c)):d.n=c:d.v=c);try{if(u=2,o){if(l||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,l<2&&(l=0)}else 1===l&&(e=o.return)&&e.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),l=1);o=t}else if((e=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(e){o=t,l=1,c=e}finally{u=1}}return{value:e,done:f}}}(n,i,o),!0),u}var a={};function l(){}function c(){}function u(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(ze(e={},r,function(){return this}),e),f=u.prototype=l.prototype=Object.create(s);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,ze(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=u,ze(f,"constructor",u),ze(u,"constructor",c),c.displayName="GeneratorFunction",ze(u,i,"GeneratorFunction"),ze(f),ze(f,i,"Generator"),ze(f,r,function(){return this}),ze(f,"toString",function(){return"[object Generator]"}),(Le=function(){return{w:o,m:d}})()}function ze(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}ze=function(t,e,n,r){function o(e,n){ze(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},ze(t,e,n,r)}function De(t,e,n,r,i,o,a){try{var l=t[o](a),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(r,i)}function Ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return We(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ye(){var t=Ue((0,r.useState)(""),2),e=t[0],i=t[1],o=Ue((0,r.useState)("Click Start to transcode"),2),a=o[0],l=o[1],c=new ct.m,u=function(){var t,e=(t=Le().m(function t(){var e,r;return Le().w(function(t){for(;;)switch(t.n){case 0:return l("Loading ffmpeg-core.js"),t.n=1,c.load();case 1:return l("Start transcoding"),r=c,t.n=2,(0,Fe.t2)(n(729).A);case 2:return r.writeFile.call(r,"test.avi",t.v),t.n=3,c.exec(["-i","test.avi","test.mp4"]);case 3:return l("Complete transcoding"),t.n=4,c.readFile("test.mp4");case 4:e=t.v,i(URL.createObjectURL(new Blob([e.buffer],{type:"video/mp4"})));case 5:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){De(o,r,i,a,l,"next",t)}function l(t){De(o,r,i,a,l,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}();return r.createElement("div",null,r.createElement("video",{src:e,width:"480",height:"270",controls:!0}),r.createElement("div",null,r.createElement("button",{onClick:u},"Transcode")),r.createElement("div",null,a))}var Be=n(6345),He=n(5658),Ne=n.n(He),Xe="wxqlQkh,G2Whuq3,0bUSEBX,giP58XN,iKdXwVm,IvpoR40,zJIxPEo,CKlmtPs,fnMylHI,vGXYiYy,MnOB9Le,YqsZKgc,0BJobQo,Otbz312".split(",").map(function(t){return"https://i.imgur.com/".concat(t,".jpg")}),qe=Xt(function(t){var e=t.slides,n=t.delay,i=t.duration,o=t.time,a=Math.floor(o/(n+i)),l=e[a%e.length],c=e[(a+1)%e.length],u=Ne()[a%Ne().length],s=(o-a*(n+i)-n)/i;return s>0?r.createElement(Be.A,{from:l,to:c,progress:s,transition:u}):r.createElement(Tt.LinearCopy,null,l)});function Ge(){return r.createElement(Rt.u,{width:480,height:270},r.createElement(qe,{slides:Xe,delay:2e3,duration:1500}))}var Ve=n(5143);function Je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||Ke(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(t,e){if(t){if("string"==typeof t)return $e(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(t,e):void 0}}function $e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Qe=Object.freeze({GRAY_SCALE:"GRAY_SCALE",CHROMA_KEY:"CHROMA_KEY"}),Ze=["https://webrtc.github.io/samples/src/video/chrome.webm","https://mdn.github.io/dom-examples/canvas/chroma-keying/media/video.mp4"];function tn(t){var e=t.counter,n=Je((0,r.useState)([]),2),i=n[0],o=n[1],a=Je((0,r.useState)(Object.keys(Qe)[0]),2),l=a[0],c=a[1],u=Je((0,r.useState)(Ze[0]),2),s=u[0],f=u[1],d=(0,r.useRef)(),h=(0,r.useRef)(),v=(0,r.useRef)(),m=(0,r.useRef)(),p=(0,r.useRef)(e);return(0,r.useEffect)(function(){p.current=e},[e]),(0,r.useEffect)(function(){var t=h.current.getContext("2d"),e=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left";t.font="30px Sans-serif",t.textAlign=i,t.strokeStyle="black",t.lineWidth=4,t.strokeText(e,n,r),t.fillStyle="white",t.fillText(e,n,r)},n=function(){if(!d.current.ended&&!d.current.paused){t.drawImage(d.current,0,0,d.current.width,d.current.height);for(var r=t.getImageData(0,0,h.current.width,h.current.height),i=r.data,o=0;o<i.length;o+=4){var a=i[o],c=i[o+1],u=i[o+2];if(l===Qe.GRAY_SCALE){var s=(a+c+u)/3;i[o]=s,i[o+1]=s,i[o+2]=s}else l===Qe.CHROMA_KEY&&c>100&&a>100&&u<43&&(i[o+3]=0)}t.putImageData(r,0,0,0,0,d.current.width,d.current.height),e(p.current,10,40),e(d.current.currentTime,470,250,"right"),d.current.requestVideoFrameCallback(n)}},r=function(){d.current.requestVideoFrameCallback(n)};return d.current.addEventListener("play",r,!1),d.current.addEventListener("loadedmetadata",function(){var t,e=d.current,n=e.videoWidth,r=e.videoHeight,i=e.duration;console.log(["loadedmetadata"],{videoWidth:n,videoHeight:r,duration:i}),o((t=Array(Math.floor(i)),function(t){if(Array.isArray(t))return $e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ke(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(t,e){return e}))}),d.current.addEventListener("timeupdate",function(){var t=d.current.currentTime;console.log(["timeupdate"],{currentTime:t})}),function(){d.current.removeEventListener("play",r)}},[d,h,s,l]),r.createElement("div",null,r.createElement("div",null,r.createElement("select",{value:s,onChange:function(t){return f(t.target.value)}},Ze.map(function(t,e){return r.createElement("option",{key:e,value:t},t)}))),r.createElement("video",{ref:d,src:s,width:"480",height:"270",preload:"none",crossOrigin:"anonymous",controls:!0}),r.createElement("div",null,r.createElement("select",{value:l,onChange:function(t){return c(t.target.value)}},Object.entries(Qe).map(function(t,e){var n=Je(t,2),i=n[0],o=n[1];return r.createElement("option",{key:e,value:i},o)}))),r.createElement("div",null,r.createElement("canvas",{ref:h,className:Ve.default.Canvas,width:"480",height:"270"})),r.createElement("div",null,r.createElement("select",{onChange:function(t){return d.current.currentTime=t.target.value}},i.map(function(t,e){return r.createElement("option",{key:e,value:t},t)})),r.createElement("button",{onClick:function(){return m.current.setAttribute("href",h.current.toDataURL()),m.current.setAttribute("download","thumbnail.png"),void v.current.setAttribute("src",h.current.toDataURL())}},"capture")," ",r.createElement("a",{ref:m,href:"#"},"download")),r.createElement("div",null,r.createElement("img",{ref:v,className:Ve.default.Image,width:"480",height:"270",alt:"",onClick:function(t){return window.open(t.target.getAttribute("src"))}})))}var en=n(7500),nn=n.n(en),rn={title:"Monochrome",description:"Change images to a single chroma (e.g can be used to make a black & white filter). Input color mix and output color mix can be adjusted.",vertexShader:"\n      attribute vec2 a_position;\n      attribute vec2 a_texCoord;\n      varying vec2 v_texCoord;\n      void main() {\n          gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n          v_texCoord = a_texCoord;\n      }",fragmentShader:"\n      precision mediump float;\n      uniform sampler2D u_image;\n      uniform vec3 inputMix;\n      uniform vec3 outputMix;\n      varying vec2 v_texCoord;\n      varying float v_mix;\n      void main(){\n          vec4 color = texture2D(u_image, v_texCoord);\n          float mono = color[0]*inputMix[0] + color[1]*inputMix[1] + color[2]*inputMix[2];\n          color[0] = mono * outputMix[0];\n          color[1] = mono * outputMix[1];\n          color[2] = mono * outputMix[2];\n          gl_FragColor = color;\n      }",properties:{inputMix:{type:"uniform",value:[.4,.6,.2]},outputMix:{type:"uniform",value:[1,1,1]}},inputs:["u_image"]};function on(){var t=(0,r.useRef)(),e=(0,r.useRef)(),n=(0,r.useCallback)(function(t){e.current.state===nn().STATE.PLAYING?e.current.pause():(e.current.currentTime=0,e.current.play())});return(0,r.useEffect)(function(){var n=t.current,r=new(nn())(n),i=r.video("http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4");i.start(0),i.stop(60);var o=r.effect(rn);o.outputMix=[1.25,1.18,.9],i.connect(o),o.connect(r.destination),e.current=r}),r.createElement("div",null,r.createElement("div",null,r.createElement("button",{onClick:n},"Play / Pause")),r.createElement("canvas",{ref:t,width:"480",height:"270"}))}var an={title:"Cross-Fade",description:"A cross-fade effect. Typically used as a transistion.",vertexShader:"\n          attribute vec2 a_position;\n          attribute vec2 a_texCoord;\n          varying vec2 v_texCoord;\n          void main() {\n              gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n              v_texCoord = a_texCoord;\n          }",fragmentShader:"\n          precision mediump float;\n          uniform sampler2D u_image_a;\n          uniform sampler2D u_image_b;\n          uniform float mix;\n          varying vec2 v_texCoord;\n          varying float v_mix;\n          void main(){\n              vec4 color_a = texture2D(u_image_a, v_texCoord);\n              vec4 color_b = texture2D(u_image_b, v_texCoord);\n              color_a[0] *= mix;\n              color_a[1] *= mix;\n              color_a[2] *= mix;\n              color_a[3] *= mix;\n              color_b[0] *= (1.0 - mix);\n              color_b[1] *= (1.0 - mix);\n              color_b[2] *= (1.0 - mix);\n              color_b[3] *= (1.0 - mix);\n              gl_FragColor = color_a + color_b;\n          }",properties:{mix:{type:"uniform",value:0}},inputs:["u_image_a","u_image_b"]};function ln(){var t=(0,r.useRef)(),e=(0,r.useRef)(),n=(0,r.useCallback)(function(t){e.current.state===nn().STATE.PLAYING?e.current.pause():e.current.play()});return(0,r.useEffect)(function(){var n=t.current,r=new(nn())(n),i=r.video("http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4");i.start(0),i.stop(4);var o=r.video("http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4");o.start(2),o.stop(6);var a=r.transition(an);a.transition(2,4,0,1,"mix"),i.connect(a),o.connect(a),a.connect(r.destination),e.current=r}),r.createElement("div",null,r.createElement("div",null,r.createElement("button",{onClick:n},"Play / Pause")),r.createElement("canvas",{ref:t,width:"480",height:"270"}))}function cn(){return r.createElement("div",null,r.createElement(on,null),r.createElement(ln,null))}var un,sn=n(6813);function fn(){var t=(0,r.useRef)();return(0,r.useEffect)(function(){var e=t.current;(0,sn.KJ)().create().initialize(e,"https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd",!1)},[]),r.createElement("div",null,r.createElement("video",{ref:t,width:"480",height:"270",controls:!0}))}function dn(t){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(t)}var hn=["onFrame"];function vn(){return vn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vn.apply(null,arguments)}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pn(r.key),r)}}function pn(t){var e=function(t){if("object"!=dn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==dn(e)?e:e+""}function yn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(yn=function(){return!!t})()}function gn(t){return gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gn(t)}function bn(t,e){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bn(t,e)}var wn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=gn(e),function(t,e){if(e&&("object"==dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yn()?Reflect.construct(e,n||[],gn(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bn(t,e)}(e,t),function(t,e){return e&&mn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){var t=this,e=function(){t._raf=Ft()(e);var n=t.refs.video;if(n){var r=n.currentTime;r!==t.currentTime&&(t.currentTime=r,t.props.onFrame(r))}};this._raf=Ft()(e)}},{key:"componentWillUnmount",value:function(){Ft().cancel(this._raf)}},{key:"render",value:function(){var t=this.props,e=(t.onFrame,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,hn));return r.createElement("video",vn({},e,{ref:"video"}))}}])}(r.Component),xn=Tt.Shaders.create({SplitColor:{frag:(0,Tt.GLSL)(un||(un=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D children;\nvoid main () {\n  float y = uv.y * 3.0;\n  vec4 c = texture2D(children, vec2(uv.x, mod(y, 1.0)));\n  gl_FragColor = vec4(\n    c.r * step(2.0, y) * step(y, 3.0),\n    c.g * step(1.0, y) * step(y, 2.0),\n    c.b * step(0.0, y) * step(y, 1.0),\n    1.0);\n}\n"])))}}),En=function(t){var e=t.children;return r.createElement(Tt.Node,{shader:xn.SplitColor,uniforms:{children:e}})},Sn="wxqlQkh,G2Whuq3,0bUSEBX,giP58XN,iKdXwVm,IvpoR40,zJIxPEo,CKlmtPs,fnMylHI,vGXYiYy,MnOB9Le,YqsZKgc,0BJobQo,Otbz312".split(",").map(function(t){return"https://i.imgur.com/".concat(t,".jpg")}),On=Xt(function(t){var e=t.video1Ref,n=t.video2Ref,i=t.slides,o=t.delay,a=t.duration,l=t.time,c=[e,n].map(function(t){var e=t.current;return e.readyState>=e.HAVE_ENOUGH_DATA?e:null}),u=Math.floor(l/(o+a)),s=c[u%c.length]||i[u%i.length],f=c[(u+1)%c.length]||i[(u+1)%i.length],d=Ne()[u%Ne().length],h=(l-u*(o+a)-o)/a;return h>0?r.createElement(Be.A,{from:s,to:f,progress:h,transition:d}):r.createElement(Tt.LinearCopy,null,s)});const Pn=function(){var t=(0,r.useRef)(),e=(0,r.useRef)();return r.createElement("div",null,r.createElement("div",null,r.createElement("video",{ref:t,src:"https://webrtc.github.io/samples/src/video/chrome.webm",width:"480",height:"270",preload:"none",crossOrigin:"anonymous",controls:!0})),r.createElement(Rt.u,{width:480,height:270},r.createElement(On,{slides:Sn,delay:2e3,duration:1500,video1Ref:t,video2Ref:e})),r.createElement("div",null,r.createElement("video",{ref:e,src:"https://webrtc.github.io/samples/src/video/chrome.webm",width:"480",height:"270",preload:"none",crossOrigin:"anonymous",controls:!0})),r.createElement(Rt.u,{width:480,height:810,pixelRatio:1},r.createElement(En,null,function(t){return r.createElement(wn,{onFrame:t,autoPlay:!0,loop:!0,crossOrigin:"anonymous",src:"https://webrtc.github.io/samples/src/video/chrome.webm"})})))};function kn(){var t=(0,i.d4)(function(t){return t.counter}),e=(0,i.wA)();return r.createElement("div",null,r.createElement("div",null,r.createElement("button",{onClick:function(){return e((0,o.G)())}},t)),r.createElement(Ie,null),r.createElement(fn,null),r.createElement(st,null),r.createElement(Pn,null),r.createElement(ne,null),r.createElement(Et,null),r.createElement(Se,null),r.createElement(ke,null),r.createElement(ge,null),r.createElement(R,null),r.createElement(_t,null),r.createElement(p,null),r.createElement(ot,null),r.createElement(cn,null),r.createElement(Ye,null),r.createElement(be,null),r.createElement(Pe,null),r.createElement(tn,{counter:t}),r.createElement($t,null),r.createElement(Me,null),r.createElement(Ge,null))}},8695:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=8695,t.exports=e}}]);