"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[556],{3556:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(2784),n=r(5278);function o(){const[e,t]=(0,a.useState)(null),r=(0,a.useRef)(),o=(0,a.useCallback)((()=>r.current.requestPictureInPicture()));return(0,a.useEffect)((()=>{const e=r.current;console.log({video:e});const{readyState:a}=e;console.log({readyState:a});const n=(t,r)=>{console.log({now:t,metadata:r}),console.log(e.getVideoPlaybackQuality()),e.requestVideoFrameCallback(n)};e.requestVideoFrameCallback(n),e.addEventListener("error",(()=>{const{error:t}=e;console.log(["error"],{error:t})})),e.addEventListener("loadedmetadata",(()=>{const{currentTime:r,videoWidth:a,videoHeight:n,duration:o,readyState:c}=e;console.log(["loadedmetadata"],{currentTime:r,videoWidth:a,videoHeight:n,duration:o,readyState:c}),t((()=>({currentTime:r,duration:o})))})),e.addEventListener("seeked",(()=>{const{currentTime:t,playbackRate:r,seeking:a}=e;console.log(["seeked"],{currentTime:t,playbackRate:r,seeking:a})})),e.addEventListener("timeupdate",(()=>{const{currentTime:r,playbackRate:a,seeking:n}=e;console.log(["timeupdate"],{currentTime:r,playbackRate:a,seeking:n}),t((e=>({...e,currentTime:r})))}))}),[]),a.createElement("div",null,a.createElement("div",null,a.createElement("button",{onClick:o},"pip"),e&&(({currentTime:e,duration:t})=>a.createElement("div",{className:n.Z.Duration},a.createElement("span",{className:n.Z.Progress,style:{width:100*e/t+"%"}}),e," / ",t))(e)),a.createElement("video",{ref:r,width:"480",height:"270",src:"https://webrtc.github.io/samples/src/video/chrome.webm",controls:!0}))}}}]);